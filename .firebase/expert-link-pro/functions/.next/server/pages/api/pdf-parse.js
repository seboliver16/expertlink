"use strict";(()=>{var e={};e.id=260,e.ids=[260],e.modules={363:e=>{e.exports=require("natural")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},4193:e=>{e.exports=require("pdf-parse")},1624:e=>{e.exports=import("compromise")},6705:e=>{e.exports=import("formidable")},2206:e=>{e.exports=import("word-list")},7147:e=>{e.exports=require("fs")},4521:e=>{e.exports=require("readline")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,i){return i in t?t[i]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,i)):"function"==typeof t&&"default"===i?t:void 0}}})},9034:(e,t,i)=>{i.a(e,async(e,r)=>{try{i.r(t),i.d(t,{config:()=>u,default:()=>c,routeModule:()=>d});var n=i(1802),o=i(7153),s=i(6249),a=i(8289),l=e([a]);a=(l.then?(await l)():l)[0];let c=(0,s.l)(a,"default"),u=(0,s.l)(a,"config"),d=new n.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/pdf-parse",pathname:"/api/pdf-parse",bundlePath:"",filename:""},userland:a});r()}catch(e){r(e)}})},8289:(e,t,i)=>{i.a(e,async(e,r)=>{try{i.r(t),i.d(t,{config:()=>P,default:()=>w});var n=i(6705),o=i(7147),s=i.n(o),a=i(4193),l=i.n(a),c=i(2206),u=i(4521),d=i(363),m=i.n(d),p=i(1624),f=e([n,c,p]);[n,c,p]=f.then?(await f)():f;let P={api:{bodyParser:!1}},g=new Set;function w(e,t){console.log("RECEIVED");let i=new n.IncomingForm({maxFileSize:10485760,keepExtensions:!0,multiples:!1});i.on("file",async(e,i)=>{console.log("File received:",e,i);try{let e=s().readFileSync(i.filepath),r=await l()(e);console.log("PDF parsed successfully");let n=h(r.text);t.status(200).json(n)}catch(e){console.error("Error parsing the PDF:",e),t.status(500).json({message:"Error parsing the PDF"})}}),i.parse(e)}(0,u.createInterface)({input:(0,o.createReadStream)(c.default),output:process.stdout,terminal:!1}).on("line",e=>{g.add(e.trim().toLowerCase())}),new(m()).WordNet;let h=e=>{let t=e.split("\n").map(e=>e.trim()).filter(e=>""!==e),i="",r="",n="",o=[],s="",a="",l=0,c="",u="",d=!1,m=!1,f=!1,w=!1,P="",g="",h="",x=null,L=null,C=0;for(let e=0;e<t.length;e++){let l=t[e];if(console.log(`Line ${e}: "${l}"`),console.log(`isSummarySection: ${d}, isSkillsSection: ${m}, isExperienceSection: ${f}, isEducationSection: ${w}`),!l.toLowerCase().includes("page")){if(l.toLowerCase().includes("linkedin.com")){c+=l.replace("(LinkedIn)","").trim();let i=t[e+1];i&&!i.toLowerCase().includes("linkedin.com")&&(c+=i.replace("(LinkedIn)","").trim(),e++);let r=c.match(/linkedin\.com\/in\/([a-zA-Z0-9-]+)/);r&&(u=r[1]);continue}if(!i){let n=(0,p.default)(l).people().out("array");if(1===n.length&&!l.toLowerCase().includes("skills")){i=n[0],r=t[e+1];continue}}if("summary"===l.toLowerCase()){d=!0;continue}if(d){if("experience"===l.trim().toLowerCase()){d=!1,f=!0;continue}n+=l+" "}if(l.toLowerCase().includes("top skills")||l.toLowerCase().includes("skills")){m=!0,f=!1,w=!1;continue}if(m&&!f&&""==i){if(l.toLowerCase().includes("languages")||"experience"===l.trim().toLowerCase()||l.toLowerCase().includes("summary")||l.toLowerCase().includes("awards")||l.toLowerCase().includes("honors")||l.toLowerCase().includes("education")){m=!1;continue}o.push(l)}if("experience"===l.trim().toLowerCase()){f=!0,m=!1,w=!1,P="",g="",h="",r=t[e-1];continue}if(f){let i=l.match(/\b\d{4}\b/);if(i){let r=parseInt(i[0],10);(!x||r>x)&&(x=r),(P||g||h)&&(s+=`${P}
${g}
${h.trim()}

`),P=t[e-1],g=l,h=""}else!l.toLowerCase().includes("education")&&P&&(h+=l+" ");if(l.toLowerCase().includes("education")||e===t.length-1){s+=`${P}
${g}
${h.trim()}

`,f=!1,w=!0;continue}}if("education"==l.toLowerCase()){w=!0,f=!1,m=!1;continue}if(w){a+=l+" ";let e=l.match(/\b\d{4}\b/);e&&(L=parseInt(e[0],10))}}}if((P||g||h)&&(s+=`${P}
${g}
${h.trim()}

`),L){for(let e=0;e<t.length;e++){let i=t[e].match(/(\b\d{4}\b).+(\b\d{4}\b|Present)/);if(i){let e=parseInt(i[1],10),t="Present"===i[2]?new Date().getFullYear():parseInt(i[2],10);e>=L&&(C+=t-e)}}l=C}else l=0;return(r.toLowerCase().includes("top skills")||!r)&&(r=t[1]),console.log(t),console.log({name:i.trim(),title:r.trim(),summary:n.trim(),skills:o.map(e=>e.trim()),experience:s.trim(),education:a.trim(),yearsOfExperience:l,linkedinUrl:c.trim(),linkedinId:u.trim()}),{name:i.trim(),title:r.trim(),summary:n.trim(),skills:o.map(e=>e.trim()),experience:s.trim(),education:a.trim(),yearsOfExperience:l,linkedinUrl:c.trim(),linkedinId:u.trim()}};r()}catch(e){r(e)}})},7153:(e,t)=>{var i;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return i}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(i||(i={}))},1802:(e,t,i)=>{e.exports=i(145)}};var t=require("../../webpack-api-runtime.js");t.C(e);var i=t(t.s=9034);module.exports=i})();