(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{3715:function(e,t,r){Promise.resolve().then(r.bind(r,5824))},6463:function(e,t,r){"use strict";var s=r(1169);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},8826:function(e,t,r){"use strict";r.d(t,{UserProvider:function(){return d},a:function(){return u}});var s=r(7437),n=r(2265),l=r(5186),a=r(9842);class i{addProject(e,t){this.projects.set(e,t)}useCredit(){if(this.credits>0)this.credits-=1;else throw Error("Not enough credits")}addCredit(e){this.credits+=e}constructor(e,t,r,s=new Map,n=0){this.id=e,this.name=t,this.email=r,this.projects=s||new Map,this.credits=n}}var o=r(8634);let c=(0,n.createContext)(void 0),d=e=>{let{children:t}=e,[r,d]=(0,n.useState)(null),[u,p]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{let e=(0,l.v0)(),t=(0,l.Aj)(e,async e=>{if(e){let t=e.uid,r=e.email||"",s=(0,a.JU)(o.db,"users",t),n=await (0,a.QT)(s);if(n.exists()){let e=n.data();d(new i(t,e.name,r,new Map(e.projects),e.credits))}else{let e=new i(t,"",r);await (0,a.pl)(s,{name:e.name,email:e.email,projects:{},credits:e.credits}),d(e)}}else d(null);p(!1)});return()=>t()},[]),u)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-white",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-t-4 border-b-4 border-blue-500"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-700",children:"Loading user data..."})]})}):(0,s.jsx)(c.Provider,{value:{user:r,setUser:d},children:t})},u=()=>{let e=(0,n.useContext)(c);if(!e)throw Error("useUser must be used within a UserProvider");return e}},8634:function(e,t,r){"use strict";r.d(t,{I:function(){return o},db:function(){return i}});var s=r(5236),n=r(9842),l=r(5186);let a=(0,s.ZF)({apiKey:"AIzaSyA14LUJlrrF9qjTs_sdSKWoxcr4Nbmo4Yk",authDomain:"expert-link-pro.firebaseapp.com",projectId:"expert-link-pro",storageBucket:"expert-link-pro.appspot.com",messagingSenderId:"936590460150",appId:"1:936590460150:web:b376036b84b0a689db18d7",measurementId:"G-YL2DDQBBTG"}),i=(0,n.ad)(a),o=(0,l.v0)(a)},5824:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var s,n=r(7437),l=r(2265),a=r(1504);let i=["Software Engineer","Data Scientist","Product Manager","UX Designer"],o=["Google","Microsoft","Apple","Amazon","Facebook"],c=["Technology","Finance","Healthcare","Education"];for(var d=e=>{let{projectStep:t,setProjectStep:r,selectedRole:s,setSelectedRole:a,selectedIndustry:d,setSelectedIndustry:u,selectedCurrentCompanies:p,setSelectedCurrentCompanies:x,selectedPreviousCompanies:h,setSelectedPreviousCompanies:m}=e,[g,b]=(0,l.useState)(""),[f,j]=(0,l.useState)(""),[y,v]=(0,l.useState)(!1),[w,N]=(0,l.useState)(!1),[C,k]=(0,l.useState)(null),S=(0,l.useRef)(null),P=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=e=>{S.current&&!S.current.contains(e.target)&&v(!1),P.current&&!P.current.contains(e.target)&&N(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let U=(e,t,r)=>{t(e.target.value),r(!0)},E=(e,t,r,s,n)=>{if(t.length>=3){k("You can only add up to ".concat(3," companies.")),n(!1);return}t.includes(e)||(r(t=>[...t,e]),s(""),k(null))},I=(e,t)=>{t(t=>t.filter(t=>t!==e)),k(null)};return(0,n.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-8",children:(0,n.jsxs)("div",{className:"space-y-4 flex flex-col justify-center items-center w-full max-w-5xl text-center",children:[(0,n.jsx)("h1",{className:"text-6xl font-bold text-gray-800 mb-4",children:"Project Details"}),(0,n.jsxs)("div",{className:"text-lg text-gray-600 flex flex-wrap justify-center items-center gap-2 text-center",children:[(0,n.jsx)("span",{children:"I am looking for "}),(0,n.jsxs)("select",{value:s,onChange:e=>{a(e.target.value)},className:"border-b-2 border-gray-300 focus:border-blue-500 focus:outline-none text-center text-gray-400",style:{minWidth:"200px",padding:"5px"},children:[(0,n.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Select a role"}),i.map(e=>(0,n.jsx)("option",{value:e,className:"text-black",children:e},e))]}),(0,n.jsx)("span",{children:" experts in "}),(0,n.jsxs)("select",{value:d,onChange:e=>{u(e.target.value)},className:"border-b-2 border-gray-300 focus:border-blue-500 focus:outline-none text-center text-gray-400",style:{minWidth:"200px",padding:"5px"},children:[(0,n.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Select an industry"}),c.map(e=>(0,n.jsx)("option",{value:e,className:"text-black",children:e},e))]}),(0,n.jsx)("span",{children:" industry who currently work at "}),(0,n.jsxs)("div",{className:"relative inline-block align-top",style:{width:"150px"},ref:S,children:[(0,n.jsx)("div",{className:"border-b-2 border-gray-300 focus-within:border-blue-500",children:(0,n.jsx)("input",{type:"text",value:g,onChange:e=>U(e,b,v),onFocus:()=>v(!0),placeholder:p.length>0?"".concat(p.length," Compan").concat(p.length>1?"ies":"y"):"Any company",className:"border-none focus:outline-none text-gray-400 w-full px-2 py-1"})}),y&&(0,n.jsxs)("div",{className:"absolute z-10 w-full bg-white border border-gray-300 mt-1 rounded-md shadow-lg",children:[p.length>0&&(0,n.jsx)("div",{className:"flex flex-wrap gap-1 p-2",children:p.map(e=>(0,n.jsxs)("div",{className:"flex items-center text-xs border border-blue-500 text-blue-500 px-2 py-0.5 rounded-full bg-white",children:[(0,n.jsx)("span",{children:e}),(0,n.jsx)("button",{onClick:()=>I(e,x),className:"ml-1 text-red-500 font-bold",children:"x"})]},e))}),o.filter(e=>e.toLowerCase().includes(g.toLowerCase())).map(e=>(0,n.jsx)("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>E(e,p,x,b,v),children:e},e))]})]}),(0,n.jsx)("span",{children:" and who have worked for "}),(0,n.jsxs)("div",{className:"relative inline-block align-top",style:{width:"150px"},ref:P,children:[(0,n.jsx)("div",{className:"border-b-2 border-gray-300 focus-within:border-blue-500",children:(0,n.jsx)("input",{type:"text",value:f,onChange:e=>U(e,j,N),onFocus:()=>N(!0),placeholder:h.length>0?"".concat(h.length," Compan").concat(h.length>1?"ies":"y"):"Any company",className:"border-none focus:outline-none text-gray-400 w-full px-2 py-1"})}),w&&(0,n.jsxs)("div",{className:"absolute z-10 w-full bg-white border border-gray-300 mt-1 rounded-md shadow-lg",children:[h.length>0&&(0,n.jsx)("div",{className:"flex flex-wrap gap-1 p-2",children:h.map(e=>(0,n.jsxs)("div",{className:"flex items-center text-xs border border-blue-500 text-blue-500 px-2 py-0.5 rounded-full bg-white",children:[(0,n.jsx)("span",{children:e}),(0,n.jsx)("button",{onClick:()=>I(e,m),className:"ml-1 text-red-500 font-bold",children:"x"})]},e))}),o.filter(e=>e.toLowerCase().includes(f.toLowerCase())).map(e=>(0,n.jsx)("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>E(e,h,m,j,N),children:e},e))]})]}),"."]}),C&&(0,n.jsx)("div",{className:"text-red-500 text-sm mt-2",children:C}),(0,n.jsxs)("div",{className:"flex justify-center mt-4 gap-4",children:[t>1&&(0,n.jsx)("button",{onClick:()=>r(t-1),className:"bg-gray-500 text-white py-3 px-6 mt-5 rounded-lg hover:bg-gray-600 transition shadow-lg",style:{width:"200px"},children:"Back"}),(0,n.jsx)("button",{onClick:()=>{r(t+1)},className:"bg-blue-500 text-white py-3 px-6 mt-5 rounded-lg hover:bg-blue-600 transition shadow-lg",style:{width:"300px"},children:"Next"})]})]})})},u=r(9842),p=r(8634),x=r(6463),h={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},m=new Uint8Array(16),g=[],b=0;b<256;++b)g.push((b+256).toString(16).slice(1));var f=function(e,t,r){if(h.randomUUID&&!t&&!e)return h.randomUUID();var n=(e=e||{}).random||(e.rng||function(){if(!s&&!(s="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s(m)})();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var l=0;l<16;++l)t[r+l]=n[l];return t}return function(e,t=0){return(g[e[t+0]]+g[e[t+1]]+g[e[t+2]]+g[e[t+3]]+"-"+g[e[t+4]]+g[e[t+5]]+"-"+g[e[t+6]]+g[e[t+7]]+"-"+g[e[t+8]]+g[e[t+9]]+"-"+g[e[t+10]]+g[e[t+11]]+g[e[t+12]]+g[e[t+13]]+g[e[t+14]]+g[e[t+15]]).toLowerCase()}(n)},j=r(8826),y=e=>{let{projectStep:t,setProjectStep:r,projectTitle:s,setProjectTitle:l,questions:a,setQuestions:i,updateSidebar:o,selectedIndustry:c,selectedRole:d,selectedCurrentCompanies:h,selectedPreviousCompanies:m}=e,g=(0,x.useRouter)(),{user:b}=(0,j.a)(),y=e=>e.replace(/[^\w]/g,"").length>=5,v=(e,t)=>{let r=[...a];r[e]=t,i(r)},w=()=>s.trim().length>0,N=async()=>{if(!b){console.error("User is not available");return}if(!w())return;let e=f(),t=new Date().toISOString(),r={title:s,industry:c,role:d,currentCompanies:h,previousCompanies:m,questions:a.filter(e=>e.trim().length>0),lastUpdated:t,categories:["General"]};try{let t=(0,u.JU)(p.db,"projects/".concat(b.id,"/userProjects/").concat(e));await (0,u.pl)(t,r),b.addProject(e,s),o(),g.push("/project/".concat(e))}catch(e){console.error("Error creating project: ",e)}};return(0,n.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-8",children:(0,n.jsxs)("div",{className:"space-y-6 w-full max-w-2xl",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold text-gray-800 text-center",children:"Project Title & Questions"}),(0,n.jsx)("input",{type:"text",value:s,onChange:e=>{l(e.target.value)},placeholder:"Enter Project Title (required, max 25 chars)",className:"block w-full border-2 rounded-lg p-4 text-lg text-gray-700 mt-4 ".concat(s.trim().length>0?"border-blue-500 focus:border-blue-700":"border-red-500")}),(0,n.jsxs)("p",{className:"text-sm text-gray-500 text-right",children:[s.length,"/25"]}),(0,n.jsxs)("div",{className:"mt-6 space-y-4",children:[a.map((e,t)=>(0,n.jsx)("input",{type:"text",value:e,onChange:e=>v(t,e.target.value),placeholder:"#".concat(t+1," Qualifying Question (optional)"),className:"block w-full border-2 rounded-lg p-4 text-lg mt-2 ".concat(e.trim().length>0?"border-blue-500 focus:border-blue-700":"border-gray-300"),maxLength:150,disabled:t>0&&!y(a[t-1])},t)),(0,n.jsx)("p",{className:"text-sm text-gray-500 text-right mt-2",children:"Max 10 questions"})]}),(0,n.jsxs)("div",{className:"flex justify-between mt-8 gap-4",children:[(0,n.jsx)("button",{onClick:()=>r(t-1),className:"bg-gray-500 text-white py-3 px-6 rounded-lg hover:bg-gray-600 transition shadow-lg",style:{width:"200px",visibility:t>1?"visible":"hidden"},children:"Back"}),(0,n.jsx)("button",{onClick:N,className:"py-3 px-6 rounded-lg transition shadow-lg ".concat(w()?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"),style:{width:"200px"},disabled:!w(),children:"Create Project"})]})]})})},v=e=>{let{collapsed:t,updateSidebar:r,projectId:s,reset:a}=e,[i,o]=(0,l.useState)(1),{user:c}=(0,j.a)(),[u,p]=(0,l.useState)(""),[x,h]=(0,l.useState)(""),[m,g]=(0,l.useState)(""),[b,f]=(0,l.useState)([]),[v,w]=(0,l.useState)([]),[N,C]=(0,l.useState)(Array(10).fill(""));return(0,l.useEffect)(()=>{a&&(o(1),p(""),h(""),g(""),f([]),w([]),C(Array(10).fill("")))},[a]),(0,n.jsxs)("div",{style:{marginLeft:t?"0rem":"4rem",transition:"margin-left 0.3s ease",padding:2===i?"24px":"0px"},children:[1===i&&(0,n.jsx)(d,{projectStep:i,setProjectStep:o,selectedIndustry:m,setSelectedIndustry:g,selectedRole:x,setSelectedRole:h,selectedCurrentCompanies:b,setSelectedCurrentCompanies:f,selectedPreviousCompanies:v,setSelectedPreviousCompanies:w}),2===i&&(0,n.jsx)(y,{projectStep:i,setProjectStep:o,projectTitle:u,setProjectTitle:p,questions:N,setQuestions:C,updateSidebar:r,selectedIndustry:m,selectedRole:x,selectedCurrentCompanies:b,selectedPreviousCompanies:v})]})};function w(){let[e,t]=(0,l.useState)(!1),{user:r}=(0,j.a)(),[s,i]=(0,l.useState)(!1),[o,c]=(0,l.useState)(null),[d,u]=(0,l.useState)(!1),p=(0,x.useRouter)();(0,l.useEffect)(()=>{if(!r){p.push("/auth");return}d||u(!0)},[r,d,p]);let h=(null==r?void 0:r.email)?r.email.slice(0,2).toUpperCase():"";return(0,n.jsxs)("div",{className:"flex min-h-screen",children:[(0,n.jsx)(a.Z,{collapsed:e,setCollapsed:t,startNewProject:()=>{i(!0),c(null)},selectProject:e=>{c(e),i(!1)}}),(0,n.jsxs)("div",{className:"flex-grow transition-all duration-300 relative",children:[(0,n.jsx)("div",{className:"absolute top-4 right-4 z-10",children:r&&(0,n.jsx)("div",{onClick:()=>p.push("/profile"),className:"w-10 h-10 flex items-center justify-center rounded-full border-2 text-blue-500 hover:text-white cursor-pointer transition-all",style:{backgroundColor:"transparent",borderImage:"linear-gradient(to right, #0066ff, #00ccff) 1"},children:(0,n.jsx)("span",{className:"text-lg font-semibold",children:h})})}),(0,n.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen transition-all duration-300",style:{background:"white"},children:d&&(0,n.jsx)(v,{collapsed:e,updateSidebar:()=>{},projectId:o,reset:s})})]})]})}},1504:function(e,t,r){"use strict";var s=r(7437),n=r(2265),l=r(6463),a=r(8826),i=r(9842),o=r(8634);t.Z=e=>{let{collapsed:t,setCollapsed:r,startNewProject:c,selectProject:d}=e,u=(0,l.useRouter)(),{user:p}=(0,a.a)(),[x,h]=(0,n.useState)([]),[m,g]=(0,n.useState)(null),b=(0,n.useRef)(null);(0,n.useEffect)(()=>{(async()=>{if(!p)return;let e=(0,i.hJ)(o.db,"projects",p.id,"userProjects"),t=(await (0,i.PL)(e)).docs.map(e=>{var t;let r=e.data();return{id:e.id,title:r.title||"Untitled Project",pinned:r.pinned||!1,lastOpened:(null===(t=r.lastOpened)||void 0===t?void 0:t.toDate())||new Date}});t.sort((e,t)=>e.pinned!==t.pinned?e.pinned?-1:1:t.lastOpened.getTime()-e.lastOpened.getTime()),h(t)})()},[p]),(0,n.useEffect)(()=>{let e=e=>{b.current&&!b.current.contains(e.target)&&g(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let f=e=>{d(e),u.push("/project/".concat(e)),j(e)},j=async e=>{if(!p)return;let t=(0,i.JU)(o.db,"projects",p.id,"userProjects",e);await (0,i.r7)(t,{lastOpened:new Date})},y=async(e,t)=>{if(!p)return;let r=(0,i.JU)(o.db,"projects",p.id,"userProjects",e);await (0,i.r7)(r,{pinned:!t}),h(r=>r.map(r=>r.id===e?{...r,pinned:!t}:r).sort((e,t)=>e.pinned!==t.pinned?e.pinned?-1:1:t.lastOpened.getTime()-e.lastOpened.getTime()))},v=async e=>{if(p&&window.confirm("Are you sure you want to delete this project?")){let t=(0,i.JU)(o.db,"projects",p.id,"userProjects",e);await (0,i.oe)(t),h(t=>t.filter(t=>t.id!==e))}},w=e=>{g(t=>t===e?null:e)};return(0,s.jsxs)("div",{className:"transition-all duration-300 h-screen flex flex-col ".concat(t?"w-20 bg-white":"w-60 bg-gray-50"," sticky top-0"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-2",children:[(0,s.jsx)("button",{onClick:()=>r(!t),className:"text-gray-600 hover:text-gray-800",children:t?">":"<"}),!t&&(0,s.jsx)("h1",{className:"text-md font-semibold text-gray-800",children:"Minerva"}),(0,s.jsx)("button",{onClick:()=>{u.push("/search")},className:"text-blue-600 hover:text-blue-800",children:"+"})]}),!t&&(0,s.jsx)("div",{className:"px-4 flex-grow",children:(0,s.jsx)("ul",{children:x.map(e=>{let{id:t,title:r,pinned:n}=e;return(0,s.jsxs)("li",{className:"mb-2 relative",children:[(0,s.jsxs)("button",{onClick:()=>f(t),className:"block w-full text-left px-2 py-2 rounded-lg hover:bg-gray-200 transition text-gray-800 flex items-center",children:[r,n&&(0,s.jsx)("span",{className:"ml-2 text-blue-500 text-sm"})]}),(0,s.jsx)("button",{className:"absolute right-2 top-2 text-gray-400 hover:text-gray-600 text-lg",onClick:()=>w(t),children:"â‹®"}),m===t&&(0,s.jsxs)("div",{ref:b,className:"absolute right-2 top-8 w-32 bg-white border rounded-lg shadow-lg z-10",children:[(0,s.jsx)("button",{onClick:()=>y(t,n),className:"block w-full text-left px-4 py-2 text-gray-800 hover:bg-gray-100",children:n?"Unpin":"Pin"}),(0,s.jsx)("button",{onClick:()=>v(t),className:"block w-full text-left px-4 py-2 text-red-600 hover:bg-red-100",children:"Delete"}),(0,s.jsx)("button",{onClick:()=>g(null),className:"block w-full text-left px-4 py-2 text-gray-400 hover:bg-gray-100",children:"Cancel"})]})]},t)})})})]})}}},function(e){e.O(0,[358,691,72,971,23,744],function(){return e(e.s=3715)}),_N_E=e.O()}]);